#! /bin/sh -ex

SCRIPTPATH=$(dirname "$0")
TEMPLATES=${TEMPLATES:-"$SCRIPTPATH/../Templates"}
SRCPATH=${SRCPATH:-"$SCRIPTPATH/../Sources"}

cat <<EOF > "$TEMPLATES/AnnotationInject.swift"
// Generated by AnnotationInject on `date`
<%
`find "$SRCPATH" -name "*.swift" | xargs -I F sh -c 'cat F; echo'`
-%>
EOF